<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css"> @import url(https://themes.googleusercontent.com/fonts/css?kit=kbffV7V9BIH3Ot2AQ2LQRA);</style></head><body class="doc-content" style="background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt"><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.0;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Courier&quot;;font-style:normal">&lt;!DOCTYPE html&gt;<br>&lt;html lang=&quot;de&quot;&gt;<br>&lt;head&gt;<br> &nbsp; &nbsp;&lt;meta charset=&quot;UTF-8&quot;&gt;<br> &nbsp; &nbsp;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br> &nbsp; &nbsp;&lt;title&gt;Bin&auml;rdatei-Editor&lt;/title&gt;<br> &nbsp; &nbsp;&lt;!-- Tailwind CSS for styling --&gt;<br> &nbsp; &nbsp;&lt;script src=&quot;https://cdn.tailwindcss.com&quot;&gt;&lt;/script&gt;<br> &nbsp; &nbsp;&lt;!-- Google Fonts: Inter --&gt;<br> &nbsp; &nbsp;&lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;<br> &nbsp; &nbsp;&lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; crossorigin&gt;<br> &nbsp; &nbsp;&lt;link href=&quot;https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;family=Roboto+Mono:wght@400;500&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;<br> &nbsp; &nbsp;&lt;style&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;/* Custom styles for the application */<br> &nbsp; &nbsp; &nbsp; &nbsp;body {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;font-family: &#39;Inter&#39;, sans-serif;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;.hex-editor-font {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;font-family: &#39;Roboto Mono&#39;, monospace;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;/* Style for contenteditable placeholders */<br> &nbsp; &nbsp; &nbsp; &nbsp;[contenteditable][data-placeholder]:empty:before {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;content: attr(data-placeholder);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;color: #9ca3af; /* gray-400 */<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;/* Custom focus ring for editable spans */<br> &nbsp; &nbsp; &nbsp; &nbsp;[contenteditable]:focus {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;outline: 2px solid #3b82f6; /* blue-500 */<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;background-color: #374151; /* gray-700 */<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;border-radius: 2px;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;&lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body class=&quot;bg-gray-900 text-gray-200 flex flex-col items-center justify-center min-h-screen p-4&quot;&gt;<br><br> &nbsp; &nbsp;&lt;div class=&quot;w-full max-w-7xl bg-gray-800 rounded-2xl shadow-2xl p-6 md:p-8 flex flex-col&quot; style=&quot;min-height: 80vh;&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;!-- Header Section --&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;header class=&quot;mb-6 pb-4 border-b border-gray-700&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;h1 class=&quot;text-3xl font-bold text-white&quot;&gt;Bin&auml;rdatei-Editor&lt;/h1&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;p class=&quot;text-gray-400 mt-1&quot;&gt;Laden, analysieren und bearbeiten Sie Bin&auml;rdateien direkt im Browser.&lt;/p&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/header&gt;<br><br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;!-- Controls Section --&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;flex flex-wrap items-center gap-4 mb-6&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;label for=&quot;fileInput&quot; class=&quot;relative cursor-pointer bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;span&gt;Datei ausw&auml;hlen&lt;/span&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;input type=&quot;file&quot; id=&quot;fileInput&quot; class=&quot;hidden&quot; accept=&quot;.bin,application/octet-stream,*/*&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/label&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;button id=&quot;saveButton&quot; class=&quot;bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200 disabled:bg-gray-600 disabled:cursor-not-allowed&quot; disabled&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&Auml;nderungen speichern<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/button&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div id=&quot;fileInfo&quot; class=&quot;text-gray-400 md:ml-4&quot;&gt;Keine Datei geladen.&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br><br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;!-- Hex Editor View --&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;div id=&quot;editor-container&quot; class=&quot;flex-grow bg-gray-900/50 rounded-lg p-4 overflow-auto border border-gray-700&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div id=&quot;hex-editor&quot; class=&quot;hex-editor-font text-sm whitespace-pre&quot; data-placeholder=&quot;Bitte laden Sie eine Datei, um den Inhalt hier anzuzeigen.&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;!-- Content will be generated by JavaScript --&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &lt;!-- Status/Message Bar --&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;div id=&quot;statusBar&quot; class=&quot;mt-4 text-center text-sm text-gray-500 h-5&quot;&gt;&lt;/div&gt;<br> &nbsp; &nbsp;&lt;/div&gt;<br><br> &nbsp; &nbsp;&lt;script&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;// --- DOM Element References ---<br> &nbsp; &nbsp; &nbsp; &nbsp;const fileInput = document.getElementById(&#39;fileInput&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const saveButton = document.getElementById(&#39;saveButton&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const hexEditor = document.getElementById(&#39;hex-editor&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const fileInfo = document.getElementById(&#39;fileInfo&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const statusBar = document.getElementById(&#39;statusBar&#39;);<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// --- Application State ---<br> &nbsp; &nbsp; &nbsp; &nbsp;let fileBuffer = null;<br> &nbsp; &nbsp; &nbsp; &nbsp;let originalFilename = &#39;edited.bin&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp;const BYTES_PER_ROW = 16;<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// --- Core Functions ---<br><br> &nbsp; &nbsp; &nbsp; &nbsp;/**<br> &nbsp; &nbsp; &nbsp; &nbsp; * Reads the selected file and triggers the rendering process.<br> &nbsp; &nbsp; &nbsp; &nbsp; * @param {Event} event - The file input change event.<br> &nbsp; &nbsp; &nbsp; &nbsp; */<br> &nbsp; &nbsp; &nbsp; &nbsp;const loadFile = (event) =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const file = event.target.files[0];<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (!file) return;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;originalFilename = file.name;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const reader = new FileReader();<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;reader.onloadstart = () =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;statusBar.textContent = &#39;Datei wird geladen...&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hexEditor.textContent = &#39;&#39;; // Clear previous content<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;};<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;reader.onload = (e) =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fileBuffer = e.target.result;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;renderHexView(fileBuffer);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fileInfo.textContent = `Datei: ${originalFilename} (${formatBytes(fileBuffer.byteLength)})`;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;saveButton.disabled = false;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;statusBar.textContent = &#39;Datei erfolgreich geladen.&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;};<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;reader.onerror = () =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;statusBar.textContent = &#39;Fehler beim Lesen der Datei.&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fileInfo.textContent = &#39;Laden fehlgeschlagen.&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;saveButton.disabled = true;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;};<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;reader.readAsArrayBuffer(file);<br> &nbsp; &nbsp; &nbsp; &nbsp;};<br><br> &nbsp; &nbsp; &nbsp; &nbsp;/**<br> &nbsp; &nbsp; &nbsp; &nbsp; * Renders the ArrayBuffer into a structured hex/ASCII view.<br> &nbsp; &nbsp; &nbsp; &nbsp; * @param {ArrayBuffer} buffer - The file data.<br> &nbsp; &nbsp; &nbsp; &nbsp; */<br> &nbsp; &nbsp; &nbsp; &nbsp;const renderHexView = (buffer) =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const view = new Uint8Array(buffer);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let html = &#39;&#39;;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for (let i = 0; i &lt; view.length; i += BYTES_PER_ROW) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const rowSlice = view.slice(i, i + BYTES_PER_ROW);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const offset = i.toString(16).padStart(8, &#39;0&#39;).toUpperCase();<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let hexValues = &#39;&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let asciiValues = &#39;&#39;;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rowSlice.forEach((byte, index) =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const byteIndex = i + index;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hexValues += `&lt;span class=&quot;px-1 hover:bg-gray-700 rounded-sm cursor-pointer&quot; contenteditable=&quot;true&quot; data-index=&quot;${byteIndex}&quot; data-type=&quot;hex&quot;&gt;${byte.toString(16).padStart(2, &#39;0&#39;).toUpperCase()}&lt;/span&gt; `;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Add extra space after 8 bytes for readability<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (index === 7) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hexValues += &#39; &#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const char = (byte &gt;= 32 &amp;&amp; byte &lt;= 126) ? String.fromCharCode(byte) : &#39;.&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;asciiValues += `&lt;span class=&quot;px-0.5 hover:bg-gray-700 rounded-sm cursor-pointer&quot; contenteditable=&quot;true&quot; data-index=&quot;${byteIndex}&quot; data-type=&quot;ascii&quot;&gt;${escapeHtml(char)}&lt;/span&gt;`;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Construct the row HTML<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;html += `<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;flex flex-row items-center&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;span class=&quot;text-gray-500 w-24&quot;&gt;${offset}&lt;/span&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;span class=&quot;flex-grow text-cyan-400 w-96&quot;&gt;${hexValues.padEnd(BYTES_PER_ROW * 3 + 1)}&lt;/span&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;span class=&quot;text-yellow-400&quot;&gt;${asciiValues}&lt;/span&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hexEditor.innerHTML = html;<br> &nbsp; &nbsp; &nbsp; &nbsp;};<br> &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;/**<br> &nbsp; &nbsp; &nbsp; &nbsp; * Handles edits in the hex or ASCII view.<br> &nbsp; &nbsp; &nbsp; &nbsp; * @param {Event} event - The input event from a contenteditable span.<br> &nbsp; &nbsp; &nbsp; &nbsp; */<br> &nbsp; &nbsp; &nbsp; &nbsp;const handleEdit = (event) =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const target = event.target;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const index = parseInt(target.dataset.index, 10);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const type = target.dataset.type;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const originalView = new Uint8Array(fileBuffer);<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (isNaN(index)) return;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let newValue;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (type === &#39;hex&#39;) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const hexString = target.textContent.trim().toUpperCase();<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (/^[0-9A-F]{1,2}$/.test(hexString)) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;target.textContent = hexString; // Normalize input<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;newValue = parseInt(hexString, 16);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Invalid input, revert to original<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;target.textContent = originalView[index].toString(16).padStart(2, &#39;0&#39;).toUpperCase();<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else { // type === &#39;ascii&#39;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const char = target.textContent.slice(0, 1); // Only take the first character<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;target.textContent = char;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;newValue = char.charCodeAt(0);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (isNaN(newValue) || newValue &gt; 255) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Invalid input, revert to original<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;target.textContent = (originalView[index] &gt;= 32 &amp;&amp; originalView[index] &lt;= 126) ? String.fromCharCode(originalView[index]) : &#39;.&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Update ArrayBuffer if value changed<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (originalView[index] !== newValue) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;originalView[index] = newValue;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;statusBar.textContent = `Byte an Adresse 0x${index.toString(16).toUpperCase()} ge&auml;ndert.`;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;updatePairedValue(index, newValue, type);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;};<br><br> &nbsp; &nbsp; &nbsp; &nbsp;/**<br> &nbsp; &nbsp; &nbsp; &nbsp; * Updates the corresponding hex/ASCII value when one is changed.<br> &nbsp; &nbsp; &nbsp; &nbsp; * @param {number} index - The byte index in the buffer.<br> &nbsp; &nbsp; &nbsp; &nbsp; * @param {number} newValue - The new byte value.<br> &nbsp; &nbsp; &nbsp; &nbsp; * @param {string} sourceType - &#39;hex&#39; or &#39;ascii&#39;, the type that was edited.<br> &nbsp; &nbsp; &nbsp; &nbsp; */<br> &nbsp; &nbsp; &nbsp; &nbsp;const updatePairedValue = (index, newValue, sourceType) =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (sourceType === &#39;hex&#39;) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const asciiSpan = document.querySelector(`span[data-index=&#39;${index}&#39;][data-type=&#39;ascii&#39;]`);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if(asciiSpan) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; asciiSpan.textContent = (newValue &gt;= 32 &amp;&amp; newValue &lt;= 126) ? String.fromCharCode(newValue) : &#39;.&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else { // sourceType === &#39;ascii&#39;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const hexSpan = document.querySelector(`span[data-index=&#39;${index}&#39;][data-type=&#39;hex&#39;]`);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(hexSpan){<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hexSpan.textContent = newValue.toString(16).padStart(2, &#39;0&#39;).toUpperCase();<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;};<br><br><br> &nbsp; &nbsp; &nbsp; &nbsp;/**<br> &nbsp; &nbsp; &nbsp; &nbsp; * Saves the (potentially modified) buffer to a file.<br> &nbsp; &nbsp; &nbsp; &nbsp; */<br> &nbsp; &nbsp; &nbsp; &nbsp;const saveFile = () =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (!fileBuffer) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;statusBar.textContent = &quot;Keine Datei zum Speichern vorhanden.&quot;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// The fileBuffer is already updated by the handleEdit function.<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const blob = new Blob([fileBuffer], { type: &#39;application/octet-stream&#39; });<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const link = document.createElement(&#39;a&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;link.href = URL.createObjectURL(blob);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;link.download = `edited_${originalFilename}`;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.body.appendChild(link);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;link.click();<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.body.removeChild(link);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;URL.revokeObjectURL(link.href); // Clean up<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;statusBar.textContent = `Datei &#39;${link.download}&#39; gespeichert.`;<br> &nbsp; &nbsp; &nbsp; &nbsp;};<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// --- Utility Functions ---<br><br> &nbsp; &nbsp; &nbsp; &nbsp;/**<br> &nbsp; &nbsp; &nbsp; &nbsp; * Formats byte size into a human-readable string.<br> &nbsp; &nbsp; &nbsp; &nbsp; * @param {number} bytes - The number of bytes.<br> &nbsp; &nbsp; &nbsp; &nbsp; * @returns {string} - The formatted string (e.g., &quot;1.23 KB&quot;).<br> &nbsp; &nbsp; &nbsp; &nbsp; */<br> &nbsp; &nbsp; &nbsp; &nbsp;const formatBytes = (bytes, decimals = 2) =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (bytes === 0) return &#39;0 Bytes&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const k = 1024;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const dm = decimals &lt; 0 ? 0 : decimals;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const sizes = [&#39;Bytes&#39;, &#39;KB&#39;, &#39;MB&#39;, &#39;GB&#39;, &#39;TB&#39;];<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const i = Math.floor(Math.log(bytes) / Math.log(k));<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + &#39; &#39; + sizes[i];<br> &nbsp; &nbsp; &nbsp; &nbsp;};<br> &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;/**<br> &nbsp; &nbsp; &nbsp; &nbsp; * Escapes HTML special characters to prevent rendering issues.<br> &nbsp; &nbsp; &nbsp; &nbsp; * @param {string} str - The string to escape.<br> &nbsp; &nbsp; &nbsp; &nbsp; * @returns {string} - The escaped string.<br> &nbsp; &nbsp; &nbsp; &nbsp; */<br> &nbsp; &nbsp; &nbsp; &nbsp;function escapeHtml(str) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return str.replace(/[&amp;&lt;&gt;&quot;&#39;]/g, function(match) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#39;&amp;&#39;: &#39;&amp;&#39;,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#39;&lt;&#39;: &#39;&lt;&#39;,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#39;&gt;&#39;: &#39;&gt;&#39;,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#39;&quot;&#39;: &#39;&quot;&#39;,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;&#39;&quot;: &#39;&#39;&#39;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}[match];<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br><br><br> &nbsp; &nbsp; &nbsp; &nbsp;// --- Event Listeners ---<br> &nbsp; &nbsp; &nbsp; &nbsp;fileInput.addEventListener(&#39;change&#39;, loadFile);<br> &nbsp; &nbsp; &nbsp; &nbsp;saveButton.addEventListener(&#39;click&#39;, saveFile);<br> &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;// Use event delegation for handling edits efficiently<br> &nbsp; &nbsp; &nbsp; &nbsp;hexEditor.addEventListener(&#39;input&#39;, handleEdit);<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// Prevent newlines in contenteditable spans and handle validation on blur<br> &nbsp; &nbsp; &nbsp; &nbsp;hexEditor.addEventListener(&#39;keydown&#39;, (e) =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (e.key === &#39;Enter&#39;) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;e.preventDefault();<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;e.target.blur(); // Trigger blur to finalize edit<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;});<br> &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp;&lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></span></p></body></html>